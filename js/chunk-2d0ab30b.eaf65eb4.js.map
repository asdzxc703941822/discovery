{"version":3,"sources":["webpack:///./src/views/productionReport/taskListQuery.vue?2220","webpack:///src/views/productionReport/taskListQuery.vue","webpack:///./src/views/productionReport/taskListQuery.vue?d839","webpack:///./src/views/productionReport/taskListQuery.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","show","asyncData","on","$event","_v","staticStyle","taskForm","model","value","callback","$$v","$set","expression","taskQuery","taskBillData","rowDblClick","_l","item","key","prop","label","items","minWidth","_e","currentPage","pagesizeDate","pagesize","pageTotal","handleSizeChange","handleCurrentChange","staticRenderFns","components","serviceDialog","data","FMacID","FDate","taskBillColumn","methods","row","getData","console","log","_this","task","taskArray","push","taskObject","mounted","component"],"mappings":"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","file":"js/chunk-2d0ab30b.eaf65eb4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('service-dialog',{attrs:{\"show\":_vm.show,\"syncdata\":_vm.asyncData},on:{\"update:show\":function($event){_vm.show=$event}}}),_c('div',{staticClass:\"allPickingArea\"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"pageTitle\"},[_vm._v(\"任务清单\")])]),_c('el-main',[_c('el-container',[_c('el-header',{staticStyle:{\"height\":\"auto\"}},[_c('el-form',{staticClass:\"demo-form-inline pageForm\",attrs:{\"inline\":true,\"model\":_vm.taskForm}},[_c('el-form-item',{attrs:{\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"size\":\"small\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\"},model:{value:(_vm.taskForm.FDate),callback:function ($$v) {_vm.$set(_vm.taskForm, \"FDate\", $$v)},expression:\"taskForm.FDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"机台号码\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"\"},model:{value:(_vm.taskForm.FMacID),callback:function ($$v) {_vm.$set(_vm.taskForm, \"FMacID\", $$v)},expression:\"taskForm.FMacID\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.taskQuery}},[_vm._v(\"查询\")])],1)],1)],1),_c('el-main',{staticClass:\"tableStyle\"},[_c('el-table',{attrs:{\"data\":_vm.taskBillData,\"height\":\"100%\",\"stripe\":\"\",\"border\":\"\"},on:{\"row-dblclick\":_vm.rowDblClick}},_vm._l((_vm.taskBillColumn),function(item,key){return _c('el-table-column',{key:key,attrs:{\"align\":\"center\",\"prop\":item.prop,\"label\":item.label}},[(item.children)?_vm._l((item.children),function(items,key){return _c('el-table-column',{key:key,attrs:{\"label\":items.label,\"min-width\":items.minWidth,\"prop\":items.prop}})}):_vm._e()],2)}),1)],1),_c('el-footer',[_c('el-pagination',{staticStyle:{\"text-align\":\"right\"},attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":_vm.pagesizeDate,\"page-size\":_vm.pagesize,\"layout\":\"total, sizes, prev, pager, next\",\"total\":_vm.pageTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <service-dialog :show.sync=\"show\" :syncdata=\"asyncData\"></service-dialog>\n    <div class=\"allPickingArea\">\n      <el-container>\n        <el-header>\n          <div class=\"pageTitle\">任务清单</div>\n        </el-header>\n        <el-main>\n          <el-container>\n            <el-header style=\"height:auto;\">\n              <el-form :inline=\"true\" :model=\"taskForm\" class=\"demo-form-inline pageForm\">\n                <el-form-item label=\"日期\">\n                  <el-date-picker\n                    v-model=\"taskForm.FDate\"\n                    type=\"date\"\n                    size=\"small\"\n                    placeholder=\"选择日期\"\n                    value-format=\"yyyy-MM-dd\"\n                    format=\"yyyy-MM-dd\"\n                  ></el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"机台号码\">\n                  <el-input v-model=\"taskForm.FMacID\" size=\"small\" placeholder></el-input>\n                </el-form-item>\n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"taskQuery\" size=\"small\">查询</el-button>\n                </el-form-item>\n              </el-form>\n            </el-header>\n            <el-main class=\"tableStyle\">\n              <el-table\n                :data=\"taskBillData\"\n                height=\"100%\"\n                stripe\n                border\n                @row-dblclick=\"rowDblClick\"\n              >\n                <el-table-column\n                  v-for=\"(item,key) in taskBillColumn\"\n                  align=\"center\"\n                  :prop=\"item.prop\"\n                  :label=\"item.label\"\n                  :key=\"key\"\n                >\n                  <template v-if=\"item.children\">\n                    <el-table-column\n                      v-for=\"(items,key) in item.children\"\n                      :label=\"items.label\"\n                      :min-width=\"items.minWidth\"\n                      :prop=\"items.prop\"\n                      :key=\"key\"\n                    ></el-table-column>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </el-main>\n            <el-footer>\n              <el-pagination\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page.sync=\"currentPage\"\n                :page-sizes=\"pagesizeDate\"\n                :page-size=\"pagesize\"\n                layout=\"total, sizes, prev, pager, next\"\n                :total=\"pageTotal\"\n                style=\"text-align: right\"\n              ></el-pagination>\n            </el-footer>\n          </el-container>\n        </el-main>\n      </el-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"~api/axios\";\nimport dayjs from \"dayjs\";\nimport serviceDialog from \"./taskListQueryDialog\";\n// import axios from \"axios\";\n\nexport default {\n  components: {\n    serviceDialog\n  },\n  data() {\n    return {\n      show: false,\n      asyncData: {},\n      taskForm: {\n        FMacID: \"\",\n        // taskNumber: \"\",\n        FDate: dayjs().format(\"YYYY-MM-DD\")\n      },\n\n      currentPage: 1,\n      pagesize: 20,\n      pagesizeDate: [20, 50, 100, 500],\n      pageTotal: 0,\n      taskBillData: [],\n      taskBillColumn: [\n        { label: \"机台号码\", prop: \"FMacNo\" },\n        { label: \"任务单号\", prop: \"FBillNo\" },\n        { label: \"任务数量\", prop: \"FICMOQty\" },\n        { label: \"客户名称\", prop: \"FCustName\" },\n        { label: \"零件代码\", prop: \"FNumber\" },\n        { label: \"零件名称\", prop: \"FName\" },\n        { label: \"工序名称\", prop: \"FGongXuName\" },\n        { label: \"生产批号\", prop: \"FBatchNO\" },\n        { label: \"汇报数量\", prop: \"FGXCommitQty\" },\n        { label: \"预警日期\", prop: \"FWarnDate\" },\n        { label: \"摘要\", prop: \"FNote\" }\n      ]\n    };\n  },\n  methods: {\n    rowDblClick: function(row, column, cell, event) {\n      this.show = true;\n      this.asyncData = row;\n    },\n    handleSizeChange: function(pagesize) {\n      this.pagesize = pagesize;\n      this.getData();\n    },\n    handleCurrentChange: function(currentPage) {\n      this.currentPage = currentPage;\n      this.getData();\n    },\n    getData: function() {\n      let _this = this;\n      let task = _this.taskForm;\n      console.log(_this.taskForm);\n      let taskArray = [];\n      for (let key in task) {\n        if (task[key] !== \"\" && task[key] !== null) {\n          let taskObject = { Name: key, Type: \"=\", Value: task[key] };\n          taskArray.push(taskObject);\n        }\n      }\n      request\n        .post(\"ICMO/GetPageList\", {\n          pageSize: _this.pagesize,\n          pageNumber: _this.currentPage,\n          conditions: taskArray\n        })\n        .then(res => {\n          if (res.rows.length > 0) {\n            let FData = res.rows;\n            for (let i = 0; i < FData.length; i++) {\n              if (\n                isNaN(FData[i].FWarnDate) &&\n                !isNaN(Date.parse(FData[i].FWarnDate))\n              ) {\n                FData[i].FWarnDate = dayjs(res.rows[i].FWarnDate).format(\n                  \"YYYY-MM-DD\"\n                );\n              }\n            }\n            _this.taskBillData = FData;\n            _this.pageTotal = res.total;\n          }\n        });\n    },\n    taskQuery: function() {\n      this.getData();\n    }\n  },\n  mounted: function() {}\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskListQuery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskListQuery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskListQuery.vue?vue&type=template&id=14acc230&\"\nimport script from \"./taskListQuery.vue?vue&type=script&lang=js&\"\nexport * from \"./taskListQuery.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}